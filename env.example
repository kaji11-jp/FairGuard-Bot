# --- 必須設定 ---
# Discord Botのトークン
BOT_TOKEN="YOUR_DISCORD_BOT_TOKEN_HERE"

# BotのクライアントID (デプロイスクリプトで使用されます。BOT_TOKENから自動導出も可能ですが、明示的に設定することを推奨します。)
# 例: BOT_CLIENT_ID="123456789012345678"
# BOT_CLIENT_ID=""

# Google Gemini APIキー
GEMINI_API_KEY="YOUR_GEMINI_API_KEY_HERE"

# --- AIプロバイダー設定 ---
# 使用するAIプロバイダーを指定します (gemini, openai, cerebras, claude)
# デフォルト: gemini (推奨)
# ※ gemini以外は実験的な機能であり、十分なテストが行われていません。
AI_PROVIDER="gemini"

# OpenAI API設定 (AI_PROVIDER="openai" の場合のみ必要)
# OPENAI_API_KEY="sk-..."
# OPENAI_MODEL="gpt-4o"

# Cerebras (高速推論)
CEREBRAS_API_KEY=your_cerebras_api_key
CEREBRAS_MODEL="llama3.1-8b"

# Claude (Anthropic) API設定 (AI_PROVIDER="claude" の場合のみ必要)
# ANTHROPIC_API_KEY="sk-ant-..."
# ANTHROPIC_MODEL="claude-3-5-sonnet-20240620"

# --- 機密情報暗号化設定 (CRITICAL: 必須) ---
# データベースに保存される機密情報を暗号化するためのキーです。
# 32バイト (256ビット) のランダムなHEX文字列を生成して設定してください。
# 例: openssl rand -hex 32
ENCRYPTION_KEY="YOUR_32_BYTE_HEX_ENCRYPTION_KEY_HERE"
# 代替: 外部のシークレットマネージャー/KMSから取得する場合
# ENCRYPTION_KEY_FILE="/path/to/secret/enc_key"          # 例: ボリュームにマウントされたファイル
# ENCRYPTION_KEY_COMMAND="./scripts/fetch-key.sh"        # 例: AWS KMS/Azure Key Vault/GCP Secret Manager から取得するスクリプト

# Botが稼働するDiscordサーバーのID
DISCORD_GUILD_ID="YOUR_GUILD_ID"

# サーバー管理者が持つロールのID（必須）
DISCORD_ADMIN_ROLE_ID="YOUR_ADMIN_ROLE_ID"

# ログや警告アラートを送信するチャンネルのID
DISCORD_ALERT_CHANNEL_ID="YOUR_LOG_CHANNEL_ID"

# チケットチャンネルを作成するカテゴリーのID
DISCORD_TICKET_CATEGORY_ID="YOUR_TICKET_CATEGORY_ID"

# --- オプション設定 ---
# 直接管理者として指定するユーザーIDをカンマ区切りで指定 (例: "USER_ID_1,USER_ID_2")
# ロールIDによる権限付与を使用する場合は空のままでOK
# DISCORD_ADMIN_USER_IDS=""

# AIモード設定
# "free": 無料枠向けの基本機能のみ（デフォルト）
# "full": 全機能有効（AI API使用量が増加します）
AI_MODE="free"

# === ログ設定（オプション） ===
# ログレベル: error, warn, info, debug
# デフォルト: info
LOG_LEVEL="info"
# 外部ログ転送先のWebhook URL（例: ログ集約サービスの受信エンドポイント）。未設定なら無効。
# LOG_WEBHOOK_URL="https://example.com/log-ingest"
# Webhookへ送る最小ログレベル（デフォルト: warn）
# LOG_WEBHOOK_LEVEL="warn"

# === 環境設定（オプション） ===
# 実行環境: development, production
# デフォルト: development
NODE_ENV="development"

# === 高度な設定（オプション） ===
# コマンドプレフィックス（デフォルト: !）
# COMMAND_PREFIX="!"

# 警告閾値（デフォルト: 3）
# WARN_THRESHOLD=3

# 最大メッセージ長（デフォルト: 2000）
# MAX_MESSAGE_LENGTH=2000

# スパム検出: 時間窓内のメッセージ数（デフォルト: 5）
# SPAM_MESSAGE_COUNT=5

# スパム検出: 時間窓（ミリ秒、デフォルト: 10000）
# SPAM_TIME_WINDOW=10000

# コマンドレート制限: 時間窓内の最大コマンド数（デフォルト: 5）
# COMMAND_RATE_LIMIT=5

# コマンドレート制限: 時間窓（ミリ秒、デフォルト: 60000）
# COMMAND_RATE_WINDOW=60000

# === 警告システム設定（オプション） ===
# 警告の有効期限（日数、デフォルト: 30）
# WARNING_EXPIRY_DAYS=30

# 異議申し立ての期限（日数、デフォルト: 3）
# APPEAL_DEADLINE_DAYS=3

# === 衝突調停設定（オプション） ===
# 衝突調停チェックの確率（0.0-1.0、デフォルト: 0.1 = 10%）
# CONFLICT_CHECK_PROBABILITY=0.1

# === キャッシュ設定（オプション） ===
# 保留中の警告キャッシュのTTL（ミリ秒、デフォルト: 300000 = 5分）
# PENDING_WARNS_CACHE_TTL=300000

# キャッシュクリーンアップ間隔（ミリ秒、デフォルト: 60000 = 1分）
# CACHE_CLEANUP_INTERVAL=60000